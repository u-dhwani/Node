{"version":3,"file":"index.js","sourceRoot":"/","sources":["v1/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,sDAA8B;AAC9B,8CAAsB;AACtB,uDAAoD;AAEpD,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;AAExC;;GAEG;AACH,SAAS,cAAc,CAAC,GAAQ,EAAE,GAAQ,EAAE,IAAS;IACjD,IAAI,MAAM,GAAG,aAAG,CAAC,MAAM,CAAC;QACpB,OAAO,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;QAC1C,WAAW,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE;KACzE,CAAC,CAAC;IAEH,IAAI,cAAc,GAAG,IAAI,yBAAW,EAAE,CAAC;IACvC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC;QAC1D,OAAO,KAAK,CAAC;IACjB,CAAC;AACL,CAAC;AAED;;GAEG;AACH,SAAe,WAAW,CAAC,GAAQ,EAAE,GAAQ,EAAE,IAAS;;QACpD,wBAAwB;QAExB,IAAI,EAAE,CAAC;IACX,CAAC;CAAA;AAED;;GAEG;AACH,IAAI,cAAc,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAC;AAEtD;;GAEG;AACH,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;AAExC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC","sourcesContent":["import express from \"express\";\nimport Joi from \"joi\";\nimport { validations } from \"./library/validations\";\n\nconst router = express.Router();\n\nrouter.use(validateSchema, checkAccess);\n\n/**\n * Validation function for search medicine route\n */\nfunction validateSchema(req: any, res: any, next: any) {\n    let schema = Joi.object({\n        user_id: Joi.number().integer().required(),\n        accesstoken: Joi.string().trim().alphanum().min(32).max(32).required()\n    });\n\n    let validationsObj = new validations();\n    if (!validationsObj.validateRequest(req, res, next, schema)) {\n        return false;\n    }\n}\n\n/**\n * Check Access of a chemist or a Staff\n */\nasync function checkAccess(req: any, res: any, next: any) {\n    // Logic to check access\n\n    next();\n}\n\n/*\n *  Controllers (route handlers)\n */\nlet productsRouter = require('./controller/products');\n\n/*\n * Primary app routes.\n */\nrouter.use('/products', productsRouter);\n\nmodule.exports = router;"]}